<!doctype html>
<html>

<head>
  <title><%= title %></title>
  <%- include("../../common/components/head.html") %>
</head>

<body>
  <%- include("../../common/components/navbar.html") %>
  <div class="page-wrapper">
    <div class="container">
      <h1>Added devices</h1>
      <% if (userDevicesDetails.length > 0) { %> 
        <p>The following table lists the devices that you have added.</p>
        <table class="table table-sm devices-table">
          <thead>
            <tr>
              <% Object.keys(userDevicesDetails[0]).forEach(key => { %>
                <th><%= key.toUpperCase() %></th>
              <% }); %>
              <th></th>
              <th></th>
              <th></th>
            </tr>
            </thead>
          <tbody>
            <% userDevicesDetails.forEach(device => { %>
              <tr>
                <td><%= device.id %></td>
                <td><%= device.type %></td>
                <td><%= device.name %></td>
                <td><a class="btn btn-sm btn-success" href="/devices/status/<%= device.id %>">
                  <i class="bi bi-speedometer"></i> Status</a>
                </td>
                <td><a class="btn btn-sm btn-primary" href="/devices/edit/<%= device.id %>">
                  <i class="bi bi-pencil-square"></i> Edit</a>
                </td>
                <td><a class="btn btn-sm btn-danger" href="/devices/delete/<%= device.id %>">
                  <i class="bi bi-trash"></i> Delete</a>
                </td>
              </tr>
            <% }); %> 
          </tbody>
        </table>
      <% } else { %>
        No devices to show. Please add a device to see it here.
      <% } %>
    </div>
  </div>
</body>

</html>